<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="ACTIVITY" height="548px" preserveAspectRatio="none" style="width:797px;height:548px;background:#FFFFFF;" version="1.1" viewBox="0 0 797 548" width="797px" zoomAndPan="magnify"><defs/><g><ellipse cx="391.1987" cy="20" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="235.7715" x="273.313" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="215.7715" x="283.313" y="71.1387">Validate inputs using validateInputs</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="352.8945" x="214.7515" y="103.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="332.8945" x="224.7515" y="125.1074">Define a pattern to match placeholders in the template</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="261.8105" x="260.2935" y="157.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="241.8105" x="270.2935" y="179.0762">Access replaceMap from the map object</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="253.8652" x="264.2661" y="267.6167"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="233.8652" x="274.2661" y="288.7554">Extract keyString from the placeholder</text><polygon fill="#F1F1F1" points="316.7742,321.5854,465.6233,321.5854,477.6233,333.5854,465.6233,345.5854,316.7742,345.5854,304.7742,333.5854,316.7742,321.5854" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="148.8491" x="316.7742" y="337.3936">replaceMap has keyString?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19.0083" x="285.7659" y="330.9912">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="13.7017" x="477.6233" y="330.9912">no</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="336.6699" x="38" y="355.5854"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="316.6699" x="48" y="376.7241">Recursively replace variables using replaceVariables</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="362.7852" x="394.6699" y="355.5854"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="342.7852" x="404.6699" y="376.7241">Replace placeholder with value from arrayValueFromKey</text><polygon fill="#F1F1F1" points="391.1987,395.5542,403.1987,407.5542,391.1987,419.5542,379.1987,407.5542,391.1987,395.5542" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="306.3462,211.9063,476.0513,211.9063,488.0513,223.9063,476.0513,235.9063,306.3462,235.9063,294.3462,223.9063,306.3462,211.9063" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19.0083" x="395.1987" y="246.1167">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="169.7051" x="306.3462" y="227.7144">Find placeholders in template?</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="207.2539" x="287.5718" y="461.5542"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="187.2539" x="297.5718" y="482.6929">Return the processed template</text><ellipse cx="391.1987" cy="526.5229" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="391.1987" cy="526.5229" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="391.1987" x2="391.1987" y1="30" y2="50"/><polygon fill="#181818" points="387.1987,40,391.1987,50,395.1987,40,391.1987,44" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="391.1987" x2="391.1987" y1="83.9688" y2="103.9688"/><polygon fill="#181818" points="387.1987,93.9688,391.1987,103.9688,395.1987,93.9688,391.1987,97.9688" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="391.1987" x2="391.1987" y1="137.9375" y2="157.9375"/><polygon fill="#181818" points="387.1987,147.9375,391.1987,157.9375,395.1987,147.9375,391.1987,151.9375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="304.7742" x2="206.335" y1="333.5854" y2="333.5854"/><line style="stroke:#181818;stroke-width:1;" x1="206.335" x2="206.335" y1="333.5854" y2="355.5854"/><polygon fill="#181818" points="202.335,345.5854,206.335,355.5854,210.335,345.5854,206.335,349.5854" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="477.6233" x2="576.0625" y1="333.5854" y2="333.5854"/><line style="stroke:#181818;stroke-width:1;" x1="576.0625" x2="576.0625" y1="333.5854" y2="355.5854"/><polygon fill="#181818" points="572.0625,345.5854,576.0625,355.5854,580.0625,345.5854,576.0625,349.5854" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="206.335" x2="206.335" y1="389.5542" y2="407.5542"/><line style="stroke:#181818;stroke-width:1;" x1="206.335" x2="379.1987" y1="407.5542" y2="407.5542"/><polygon fill="#181818" points="369.1987,403.5542,379.1987,407.5542,369.1987,411.5542,373.1987,407.5542" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="576.0625" x2="576.0625" y1="389.5542" y2="407.5542"/><line style="stroke:#181818;stroke-width:1;" x1="576.0625" x2="403.1987" y1="407.5542" y2="407.5542"/><polygon fill="#181818" points="413.1987,403.5542,403.1987,407.5542,413.1987,411.5542,409.1987,407.5542" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="391.1987" x2="391.1987" y1="301.5854" y2="321.5854"/><polygon fill="#181818" points="387.1987,311.5854,391.1987,321.5854,395.1987,311.5854,391.1987,315.5854" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="391.1987" x2="391.1987" y1="235.9063" y2="267.6167"/><polygon fill="#181818" points="387.1987,257.6167,391.1987,267.6167,395.1987,257.6167,391.1987,261.6167" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="391.1987" x2="391.1987" y1="419.5542" y2="429.5542"/><line style="stroke:#181818;stroke-width:1;" x1="391.1987" x2="771.4551" y1="429.5542" y2="429.5542"/><polygon fill="#181818" points="767.4551,327.6831,771.4551,317.6831,775.4551,327.6831,771.4551,323.6831" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="771.4551" x2="771.4551" y1="223.9063" y2="429.5542"/><line style="stroke:#181818;stroke-width:1;" x1="771.4551" x2="488.0513" y1="223.9063" y2="223.9063"/><polygon fill="#181818" points="498.0513,219.9063,488.0513,223.9063,498.0513,227.9063,494.0513,223.9063" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="294.3462" x2="24" y1="223.9063" y2="223.9063"/><polygon fill="#181818" points="20,313.6831,24,323.6831,28,313.6831,24,317.6831" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="24" x2="24" y1="223.9063" y2="441.5542"/><line style="stroke:#181818;stroke-width:1;" x1="24" x2="391.1987" y1="441.5542" y2="441.5542"/><line style="stroke:#181818;stroke-width:1;" x1="391.1987" x2="391.1987" y1="441.5542" y2="461.5542"/><polygon fill="#181818" points="387.1987,451.5542,391.1987,461.5542,395.1987,451.5542,391.1987,455.5542" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="391.1987" x2="391.1987" y1="191.9063" y2="211.9063"/><polygon fill="#181818" points="387.1987,201.9063,391.1987,211.9063,395.1987,201.9063,391.1987,205.9063" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="391.1987" x2="391.1987" y1="495.5229" y2="515.5229"/><polygon fill="#181818" points="387.1987,505.5229,391.1987,515.5229,395.1987,505.5229,391.1987,509.5229" style="stroke:#181818;stroke-width:1;"/><!--SRC=[PP7DQiGm38JlVWeTiw-G74gXNIYbbrt8NUieZLl7DhAosxnzbTy6UZ5eq7mUZxCWYp5bZTurA0Gkf44o3Dc5JxYlwjiiLgPyeTO50eI48iG194AFOZj87YrrqJV4MI4W7O5GhxAG6f-jfPo1QTxxm0GjntxUwdM8jo-oKXdpw9mdACukDF-HA-xf12v3CL8-6O3ozKSOhS0tZLVXAVQEFX0gNNKj58S47UO_aqBL4NQiWYza1yxkJdxSWciZxF3cQMjerUjDdguXd_K98UwOnNe80mydtTJkG4jOPCQndkQpZkyqpfpGkDReEPUYdtGX6NYfDd6S2gNcKBB94jCl]--></g></svg>